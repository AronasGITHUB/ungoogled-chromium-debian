---
 third_party/WebKit/WebCore/dom/XMLTokenizerLibxml2.cpp |    3 ++-
 2 files changed, 5 insertions(+), 2 deletions(-)

Index: chromium-browser/third_party/WebKit/WebCore/dom/XMLTokenizerLibxml2.cpp
===================================================================
--- chromium-browser.orig/third_party/WebKit/WebCore/dom/XMLTokenizerLibxml2.cpp
+++ chromium-browser/third_party/WebKit/WebCore/dom/XMLTokenizerLibxml2.cpp
@@ -840,17 +840,18 @@
     if (m_parserStopped)
         return;
 
 #if PLATFORM(WIN_OS)
     char m[1024];
     vsnprintf(m, sizeof(m) - 1, message, args);
 #else
     char* m;
-    vasprintf(&m, message, args);
+    if (vasprintf(&m, message, args) < 0)
+      return;
 #endif
     
     if (m_parserPaused)
         m_pendingCallbacks->appendErrorCallback(type, m, lineNumber(), columnNumber());
     else
         handleError(type, m, lineNumber(), columnNumber());
 
 #if !PLATFORM(WIN_OS)
